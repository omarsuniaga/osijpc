import{i as D,g as H,U as M,o as C,a as k,r as y,b as F,c as B,d as z,s as K,E as G,N as J,D as b,m as L,K as E,Q as O,I as W,e as $,u as I,f as p,h as u,j as l,k as d,l as c,w as m,F as Q,n as X,p as P,q as h,t as Y,v as R,T as w,x as Z,y as ee,z as te,A as oe,B as ne,C as se,G as ae,H as re,J as ie,L as ce,M as ue,O as le,P as de,R as me,S as _e,V as pe,W as fe}from"./vendor.ffe9a40f.js";const he=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerpolicy&&(a.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?a.credentials="include":o.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=r(o);fetch(o.href,a)}};he();const S=D({apiKey:"AIzaSyC5C5qqoGOXs28ht_frNU4XdqJrR9URcPE",authDomain:"orquestapuntacana.firebaseapp.com",databaseURL:"https://orquestapuntacana-default-rtdb.firebaseio.com/",projectId:"orquestapuntacana",storageBucket:"orquestapuntacana.appspot.com",messagingSenderId:"196404464243",appId:"1:196404464243:web:55dfa339590a2bc4ba3806"});H(S);const U=()=>{const e=y(null),t=y(null),r=k();let n;F(()=>{n=C(r,a=>e.value=a,a=>t.value=a)}),B(()=>n());const o=z(()=>e.value!=null);return{user:e,error:t,isAuthenticated:o}},q=async()=>{try{const e=k();await K(e)}catch(e){alert(e.message)}},x=()=>new Promise((e,t)=>C(k(),e,t)),g=M(S),at=async e=>{try{const t=await W(b(g,"ALUMNOS"),e).then(()=>{alert("Alumno Guardado")});return!0}catch(t){return alert(t.message),!1}},rt=async e=>{let t=b(g,"ALUMNOS"),r=E(t,O("nombre","==",e.nombre),O("apellido","==",e.apellido));return await L(r).then(n=>n.empty)},it=e=>e.nombre!==""||e.apellido!==""||e.cedula!==""||e.direccion!==""||e.telefono!==""||e.sexo!==""||e.grupo!==""||e.edad!==""||e.nacimiento!==""||e.madre!==""||e.madreCedula!==""||e.padre!==""||e.padreCedula!==""||e.direccionTrabajoPadre!==""||e.direccionTrabajoMadre!==""||e.representante!=="",ct=async e=>{try{return await G(J(g,"ALUMNOS",e))}catch(t){console.log(t)}},ut=async()=>{try{let e=b(g,"ALUMNOS");return await L(e)}catch(e){console.log(e)}},lt=async e=>{try{let t=b(g,"ALUMNOS"),r=E(t,O("id","==",e));return(await L(r)).docs[0].data()}catch(t){console.log(t)}};var v=(e,t)=>{const r=e.__vccOpts||e;for(const[n,o]of t)r[n]=o;return r};const ge=$({name:"Menu",setup(){const{isAuthenticated:e}=U(),t=[{name:"Home",link:{name:"Home"}},{name:"Profile",link:{name:"Profile"}},{name:"RegistrarAlumno",link:{name:"RegistrarAlumno"}},{name:"Crear",link:{name:"Crear"}}],r=[{name:"Home",link:{name:"Home"}},{name:"Login",link:{name:"Login"}},{name:"Signup",link:{name:"SignUp"}}],n=y(!1),o=()=>{n.value=!n.value},a=I();return{show:n,toggle:o,isAuthenticated:e,signOutUser:async()=>{o(),await q(),await a.replace({name:"Login"})},menuAuth:t,menuNoAuth:r}}}),ve={class:"ml-3 relative"},ye={key:0,class:"origin-top-right absolute right-0 mt-2 w-32 rounded-md shadow-lg py-1 bg-gray-800 text-white font-heading",role:"menu","aria-orientation":"vertical","aria-labelledby":"user-menu-button",tabindex:"-1"};function be(e,t,r,n,o,a){const s=p("font-awesome-icon"),f=p("router-link");return u(),l("div",ve,[d("div",null,[d("button",{type:"button",class:"text-lg h-8 w-8 rounded-full hover:bg-blue-300","aria-expanded":"false","aria-haspopup":"true",onClick:t[0]||(t[0]=(...i)=>e.toggle&&e.toggle(...i))},[c(s,{icon:["fas","bars"],class:""})])]),c(w,{name:"fade"},{default:m(()=>[e.show?(u(),l("div",ye,[(u(!0),l(Q,null,X(e.isAuthenticated?e.menuAuth:e.menuNoAuth,(i,A)=>(u(),P(f,{key:A,to:i.link,class:"block px-4 py-2 text-sm",onClick:e.toggle},{default:m(()=>[h(Y(i.name),1)]),_:2},1032,["to","onClick"]))),128)),e.isAuthenticated?(u(),l("p",{key:0,class:"px-4 py-2 text-sm cursor-pointer text-error",onClick:t[1]||(t[1]=(...i)=>e.signOutUser&&e.signOutUser(...i))}," Logout ")):R("",!0)])):R("",!0)]),_:1})])}var Ae=v(ge,[["render",be],["__scopeId","data-v-187e1258"]]);const ke=$({components:{Menu:Ae},setup(){const{user:e}=U(),t=I();return{user:e,signOutUser:async()=>{await q(),await t.replace({name:"Login"})},goToHome:()=>{t.push({name:"Home"})}}}}),Le={class:"t-transition-effect nav-style px-2 md:px-0"},Oe={class:"t-main-set flex justify-between items-center"},$e={key:0,class:"hidden md:block"},Ce=h("Inicio "),Ee=h(" Perfil "),Ie=h("Registrar Alumno "),Pe={key:1,class:"hidden md:block"},Re=h("Inicio "),we=h(" Login "),Se=h(" Registrar "),Ue={class:"block md:hidden"};function qe(e,t,r,n,o,a){const s=p("router-link"),f=p("Menu");return u(),l("nav",Le,[d("div",Oe,[d("h2",{class:"font-bold text-blue-800 cursor-pointer",onClick:t[0]||(t[0]=(...i)=>e.goToHome&&e.goToHome(...i))}," Asistencia System "),e.user?(u(),l("div",$e,[c(s,{to:{name:"Inicio"},class:"nav-link t-transition-effect"},{default:m(()=>[Ce]),_:1}),c(s,{to:{name:"Profile"},class:"nav-link t-transition-effect"},{default:m(()=>[Ee]),_:1}),c(s,{to:{name:"RegistrarAlumno"},class:"nav-link t-transition-effect"},{default:m(()=>[Ie]),_:1}),d("a",{class:"t-transition-effect py-2 px-4 ml-4 font-heading rounded cursor-pointer bg-error hover:bg-opacity-75",onClick:t[1]||(t[1]=(...i)=>e.signOutUser&&e.signOutUser(...i))},"Log Out ")])):(u(),l("div",Pe,[c(s,{to:{name:"Home"},class:"nav-link t-transition-effect"},{default:m(()=>[Re]),_:1}),c(s,{to:{name:"Login"},class:"nav-link t-transition-effect"},{default:m(()=>[we]),_:1}),c(s,{to:{name:"SignUp"},class:"nav-link t-transition-effect"},{default:m(()=>[Se]),_:1})])),d("div",Ue,[c(f)])])])}var xe=v(ke,[["render",qe],["__scopeId","data-v-6616ece8"]]);const Ne={},Te={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"animate-spin -ml-1 mr-3"},je=d("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),Ve=d("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),De=[je,Ve];function He(e,t){return u(),l("svg",Te,De)}var Me=v(Ne,[["render",He]]);const Fe={},Be={class:"flex justify-items-center shadow-xl items-center fixed bottom-0 pt-1 bg-white w-full"},ze=d("div",{class:"bg-blue-200 grow items-center"},[d("h2",{class:"text-center py-1"}," Orquesta Sinfonica Infantil y Juvenil de Punta Cana ")],-1),Ke=[ze];function Ge(e,t){return u(),l("div",Be,Ke)}var Je=v(Fe,[["render",Ge]]);const We=$({name:"App",components:{Navbar:xe,Loading:Me,Footer:Je},setup(e){const t=y(!0);return x().then(()=>{t.value=!1}),{isLoading:t}}}),Qe={key:0,class:"flex items-center justify-center",style:{height:"80vh"}},Xe={key:1,class:"flex flex-col min-h-screen"},Ye={class:"flex-1 grid place-items-center"};function Ze(e,t,r,n,o,a){const s=p("Loading"),f=p("Navbar"),i=p("router-view"),A=p("Footer");return e.isLoading?(u(),l("div",Qe,[c(s,{class:"h-16 w-16"})])):(u(),l("div",Xe,[c(f),d("div",Ye,[c(i,null,{default:m(({Component:j,route:V})=>[c(w,{name:"slide",mode:"out-in"},{default:m(()=>[(u(),P(Z(j),{key:V.path}))]),_:2},1024)]),_:1})]),c(A)]))}var et=v(We,[["render",Ze],["__scopeId","data-v-7f466f6e"]]);const tt="modulepreload",N={},ot="/",_=function(t,r){return!r||r.length===0?t():Promise.all(r.map(n=>{if(n=`${ot}${n}`,n in N)return;N[n]=!0;const o=n.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${a}`))return;const s=document.createElement("link");if(s.rel=o?"stylesheet":tt,o||(s.as="script",s.crossOrigin=""),s.href=n,document.head.appendChild(s),o)return new Promise((f,i)=>{s.addEventListener("load",f),s.addEventListener("error",i)})})).then(()=>t())},nt=[{path:"/",name:"Home",component:()=>_(()=>import("./Home.109317c5.js"),["assets/Home.109317c5.js","assets/vendor.ffe9a40f.js"])},{path:"/Inicio",name:"Inicio",component:()=>_(()=>import("./Inicio.890166f9.js"),["assets/Inicio.890166f9.js","assets/vendor.ffe9a40f.js"]),meta:{requiresAuth:!0}},{path:"/Profile",name:"Profile",component:()=>_(()=>import("./Profile.26ec32b2.js"),["assets/Profile.26ec32b2.js","assets/vendor.ffe9a40f.js"]),meta:{requiresAuth:!0}},{path:"/Alumno/:id",name:"Alumno",component:()=>_(()=>import("./Alumno.338534d2.js"),["assets/Alumno.338534d2.js","assets/vendor.ffe9a40f.js"]),meta:{requiresAuth:!0}},{path:"/auth/login",name:"Login",component:()=>_(()=>import("./Login.f90b810f.js"),["assets/Login.f90b810f.js","assets/vendor.ffe9a40f.js","assets/Dialog.c3657513.js","assets/index.a3f88e01.js"]),meta:{noAuth:!0}},{path:"/auth/signup",name:"SignUp",component:()=>_(()=>import("./SignUp.ddd2ece0.js"),["assets/SignUp.ddd2ece0.js","assets/vendor.ffe9a40f.js","assets/index.a3f88e01.js"]),meta:{noAuth:!0}},{path:"/auth/forgot-password",name:"ForgotPassword",component:()=>_(()=>import("./ForgotPassword.3e4bbde9.js"),["assets/ForgotPassword.3e4bbde9.js","assets/vendor.ffe9a40f.js","assets/Dialog.c3657513.js"]),meta:{noAuth:!0}},{path:"/RegistrarAlumno",name:"RegistrarAlumno",component:()=>_(()=>import("./RegistrarAlumno.94440f61.js"),["assets/RegistrarAlumno.94440f61.js","assets/vendor.ffe9a40f.js"]),meta:{requiresAuth:!0}},{path:"/Create",name:"Crear",component:()=>_(()=>import("./Create.cc3fa558.js"),["assets/Create.cc3fa558.js","assets/vendor.ffe9a40f.js"]),meta:{requiresAuth:!0}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>_(()=>import("./404.54ac5de3.js"),["assets/404.54ac5de3.js","assets/vendor.ffe9a40f.js"])}],T=ee({history:te(),routes:nt});T.beforeEach(async(e,t,r)=>{const n=e.matched.some(s=>s.meta.requiresAuth),o=e.matched.some(s=>s.meta.noAuth),a=await x();n&&!a?r({name:"Login"}):o&&a?r({name:"Home"}):r()});oe.add([ne,se,ae,re,ie,ce,ue,le,de,me]);_e(et).component("font-awesome-icon",pe).component("datepicker",fe).use(T).mount("#app");export{Me as L,v as _,ct as a,at as b,it as c,g as d,rt as e,S as f,ut as g,lt as s};
